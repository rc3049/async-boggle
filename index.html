<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Boggle Game</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; }
    #board { display: grid; grid-template-columns: repeat(4, 60px); grid-gap: 8px; justify-content: center; margin: 20px auto; }
    .cube { width: 60px; height: 60px; border: 1px solid #333; display: flex; justify-content: center; align-items: center; font-size: 22px; cursor: pointer; user-select: none; border-radius: 6px; background: #f7f7f7; }
    .cube.selected { background: #b3d4fc; }
    #currentWord { font-weight: bold; margin: 10px; }
    #score { margin: 10px; font-size: 18px; }
  </style>
</head>
<body>
  <h1>Boggle</h1>
  <button onclick="newGame()">New Game</button>
  <div id="board"></div>
  <div id="currentWord">Current Word: <span></span></div>
  <button onclick="submitWord()">Submit Word</button>
  <button onclick="clearSelection()">Clear</button>
  <div id="score">Score: 0</div>
  <div id="words">Words: <ul></ul></div>

  <script>
    const BOGGLE_DICE = [
      "AAEEGN", "ABBJOO", "ACHOPS", "AFFKPS", "AOOTTW", "CIMOTU", "DEILRX",
      "DELRVY", "DISTTY", "EEGHNW", "EEINSU", "EHRTVW", "EIOSST", "ELRTTY",
      "HIMNQU", "HLNNRZ"
    ];

    // tiny dictionary for demo (replace with big one later)
    const dictionary = new Set(["CAT", "DOG", "TREE", "WORD", "GAME", "CODE"]);

    let board = [];
    let selected = [];
    let currentWord = "";
    let foundWords = new Set();
    let score = 0;

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    function newGame() {
      board = [];
      let dice = [...BOGGLE_DICE];
      shuffleArray(dice);
      for (let i = 0; i < 16; i++) {
        let die = dice[i];
        let letter = die[Math.floor(Math.random() * die.length)];
        if (letter === "Q") letter = "Qu";
        board.push(letter);
      }
      renderBoard();
      selected = [];
      currentWord = "";
      document.querySelector("#currentWord span").textContent = "";
      foundWords.clear();
      score = 0;
      updateScore();
      document.querySelector("#words ul").innerHTML = "";
    }

    function renderBoard() {
      const boardDiv = document.getElementById("board");
      boardDiv.innerHTML = "";
      board.forEach((letter, i) => {
        const cube = document.createElement("div");
        cube.className = "cube";
        cube.textContent = letter;
        cube.onclick = () => selectCube(i);
        boardDiv.appendChild(cube);
      });
    }

    function selectCube(index) {
      const cubeEls = document.querySelectorAll(".cube");
      if (!selected.includes(index)) {
        selected.push(index);
        currentWord += board[index];
        cubeEls[index].classList.add("selected");
        document.querySelector("#currentWord span").textContent = currentWord;
      }
    }

    function clearSelection() {
      selected = [];
      currentWord = "";
      document.querySelector("#currentWord span").textContent = "";
      document.querySelectorAll(".cube").forEach(c => c.classList.remove("selected"));
    }

    function wordPoints(word) {
      const len = word.length;
      if (len < 3) return 0;
      if (len <= 4) return 1;
      if (len === 5) return 2;
      if (len === 6) return 3;
      if (len === 7) return 5;
      return 11;
    }

    function submitWord() {
      const word = currentWord.toUpperCase();
      if (word.length < 3) {
        alert("Word too short!");
      } else if (!dictionary.has(word)) {
        alert("Not in dictionary!");
      } else if (foundWords.has(word)) {
        alert("Already found!");
      } else {
        foundWords.add(word);
        const pts = wordPoints(word);
        score += pts;
        updateScore();
        const li = document.createElement("li");
        li.textContent = `${word} (+${pts})`;
        document.querySelector("#words ul").appendChild(li);
      }
      clearSelection();
    }

    function updateScore() {
      document.getElementById("score").textContent = `Score: ${score}`;
    }

    // start with a game ready
    newGame();
  </script>
</body>
</html>
